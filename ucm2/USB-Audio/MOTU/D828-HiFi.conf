# MOTU 828 (28x32), released in 2024, Factory Defaults
# This is how the MOTU 828 initially appears in its included CueMix5 software for Mac OSX and Windows

# ***** Still needs to be done*****:
# 1)  ADAT mode for banks A & B of optical ports (each in and out on each bank has 8-channels).  I have removed these ports for now, as the macro only supports 2 channel parameters
# 2)  Related to the above:  a conflict switch so that optical Bank A can switch between 2-channel TOSLink and 8-channel ADAT
# 3)  Surround mapping (eg. 7.1 or 5.1.2 configuration, such that channels 0,1,4,5,6,7,8,9 map to FL,FR,FC,LFE,SL,SR,RL,RR (respectively)
# 4)  Headphone mixdown + surround, such that line outs play surround, while headphones mixdown surround to stereo

# Line Naming conventions:
# Due to the number of LINE devices, to make this intuitive to follow, I have chosen to adopt a naming convention for LINES
# Outputs are prefixed with "0"; and Inputs are prefixed with "1", followed by the physical channel number(s), which start at 1
# Example:  Input lines 1-2 (stereo) is named "Line112"; Output lines 1-2 (stereo) is named "Line012"; Input line 1 (mono) is named "Line11"; and Output line 1 (mono) is named "Line01"

# And these are ordered how I think would align to the most common usage
# Mono microphones first, then stereo lines, then multichannel digital, followed by the alternate stereo mic and mono line options
# In sequential order, consistent with the MOTU 828
# (The order is reversed in this file because that's how it appears in my OS)



#----------------------
#---This section uses the referenced macro for the device configuration---:
# While the MOTU 828 can support mono outputs, I do not foresee ever needing this in practical usage.  It can be added in the future if necessary.
#----------------------

Include.pcm_split.File "/common/pcm/split.conf"

Macro [
	
	{
		SplitPCM {
			Name "motu828_stereo_out"
			Direction Playback
			Channels 2
			HWChannels 32
			HWChannelPos0 FL
			HWChannelPos1 FR
		}
	}

	{
		SplitPCM {
			Name "motu828_mono_in"
			Direction Capture
			Channels 1
			HWChannels 30
			HWChannelPos0 MONO
			HWChannelPos1 MONO
		}
	}
	
	{
		SplitPCM {
			Name "motu828_stereo_in"
			Direction Capture
			Channels 2
			HWChannels 30
			HWChannelPos0 FL
			HWChannelPos1 FR
		}
	}
]

#-----------------------
#---Physical Outputs---:
#-----------------------

# On the back of the MOTU 828, these are 2 optical input connectors: "OPTICAL IN A" and "OPTICAL IN B".
# BANK A (only) can be configured as either:
#    2-channel TOSLINK, or
#    8-channel ADAT
# in the MOTU 828's menu
# Currently, only the 2-channel TOSLINK mode is supported

SectionDevice."SPDIF2" {
	Comment "[stereo] Optical Out A (TOSLink)"
	Value {
		PlaybackPriority 140
	}
	Macro.pcm_split.SplitPCMDevice {
		Name "motu828_stereo_out"
		Direction Playback
		HWChannels 32
		Channels 2

		Channel0 16
		Channel1 17

		ChannelPos0 FL
		ChannelPos1 FR
	}
}

#On the back of the MOTU 828, this is a single RCA connector: "S/PDIF OUT":

SectionDevice."SPDIF1" {
	Comment "[stereo] S/PDIF Out (RCA)"
	Value {
		PlaybackPriority 150
	}
	Macro.pcm_split.SplitPCMDevice {
		Name "motu828_stereo_out"
		Direction Playback
		HWChannels 32
		Channels 2
		Channel0 14
		Channel1 15
		ChannelPos0 FL
		ChannelPos1 FR
	}
}

#On the front of the MOTU 828, these are 1/4" TRS connectors: (Headphone icons)

SectionDevice."Headphones2" {
	Comment "[stereo] Headphones 2"
	Value {
		PlaybackPriority 197
	}
	Macro.pcm_split.SplitPCMDevice {
		Name "motu828_stereo_out"
		Direction Playback
		HWChannels 32
		Channels 2
		Channel0 12
		Channel1 13
		ChannelPos0 FL
		ChannelPos1 FR
	}
}

SectionDevice."Headphones1" {
	Comment "[stereo] Headphones 1"
	Value {
		PlaybackPriority 198
	}
	Macro.pcm_split.SplitPCMDevice {
		Name "motu828_stereo_out"
		Direction Playback
		HWChannels 32
		Channels 2
		Channel0 10
		Channel1 11
		ChannelPos0 FL
		ChannelPos1 FR
	}
}

#On the back of the MOTU 828, these are 1/4" connectors: "LINE OUT"

SectionDevice."Line0910" {
	Comment "[stereo] Line Out (9-10)"
	Value {
		PlaybackPriority 160
	}
	Macro.pcm_split.SplitPCMDevice {
		Name "motu828_stereo_out"
		Direction Playback
		HWChannels 32
		Channels 2
		Channel0 8
		Channel1 9
		ChannelPos0 FL
		ChannelPos1 FR
	}
}

SectionDevice."Line078" {
	Comment "[stereo] Line Out (7-8)"
	Value {
		PlaybackPriority 170
	}
	Macro.pcm_split.SplitPCMDevice {
		Name "motu828_stereo_out"
		Direction Playback
		HWChannels 32
		Channels 2
		Channel0 6
		Channel1 7
		ChannelPos0 FL
		ChannelPos1 FR
	}
}

SectionDevice."Line056" {
	Comment "[stereo] Line Out (5-6)"
	Value {
		PlaybackPriority 180
	}
	Macro.pcm_split.SplitPCMDevice {
		Name "motu828_stereo_out"
		Direction Playback
		HWChannels 32
		Channels 2
		Channel0 4
		Channel1 5
		ChannelPos0 FL
		ChannelPos1 FR
	}
}

# On the back of the MOTU 828, these are 1/4" connectors: "LINE OUT (B): 3 | 4"
# These are controlled by the [AB ON], [A], and [B] buttons on the front of the MOTU 828

SectionDevice."Line034" {
	Comment "[stereo] Main Out B / Line Out (3-4)"
	Value {
		PlaybackPriority 190
	}
	Macro.pcm_split.SplitPCMDevice {
		Name "motu828_stereo_out"
		Direction Playback
		HWChannels 32
		Channels 2
		Channel0 2
		Channel1 3
		ChannelPos0 FL
		ChannelPos1 FR
	}
}

# On the back of the MOTU 828, these are XLR connectors: "MAIN OUT (A)"
# These are controlled by the [AB ON], [A], and [B] buttons on the front of the MOTU 828

SectionDevice."Line012" {
	Comment "[stereo] Main Out A (1-2)"
	
	Value {
		PlaybackPriority 200
	}
	Macro.pcm_split.SplitPCMDevice {
		Name "motu828_stereo_out"
		Direction Playback
		HWChannels 32
		Channels 2
		Channel0 0
		Channel1 1
		ChannelPos0 FL
		ChannelPos1 FR
	}
}


#----------------------
#---Physical Inputs---:
#----------------------

# On the back of the MOTU 828, these are balanced 1/4" TRS connectors: "LINE IN"
# These are defined as mono here; but there is a separate section with alternate stereo configuration and conflict resolution

SectionDevice."Line110" {
	Comment "[mono] Line In 10"

	Value {
		CapturePriority 145
	}
	Macro.pcm_split.SplitPCMDevice {
		Name "motu828_mono_in"
		Direction Capture
		HWChannels 30
		Channels 1
		Channel0 9
		ChannelPos0 MONO
	}
}

SectionDevice."Line19" {
	Comment "[mono] Line In 9"

	Value {
		CapturePriority 144
	}
	Macro.pcm_split.SplitPCMDevice {
		Name "motu828_mono_in"
		Direction Capture
		HWChannels 30
		Channels 1
		Channel0 8
		ChannelPos0 MONO
	}
}

SectionDevice."Line18" {
	Comment "[mono] Line In 8"

	Value {
		CapturePriority 155
	}
	Macro.pcm_split.SplitPCMDevice {
		Name "motu828_mono_in"
		Direction Capture
		HWChannels 30
		Channels 1
		Channel0 7
		ChannelPos0 MONO
	}
}

SectionDevice."Line17" {
	Comment "[mono] Line In 7"

	Value {
		CapturePriority 154
	}
	Macro.pcm_split.SplitPCMDevice {
		Name "motu828_mono_in"
		Direction Capture
		HWChannels 30
		Channels 1
		Channel0 6
		ChannelPos0 MONO
	}
}

SectionDevice."Line16" {
	Comment "[mono] Line In 6"

	Value {
		CapturePriority 165
	}
	Macro.pcm_split.SplitPCMDevice {
		Name "motu828_mono_in"
		Direction Capture
		HWChannels 30
		Channels 1
		Channel0 5
		ChannelPos0 MONO
	}
}

SectionDevice."Line15" {
	Comment "[mono] Line In 5"

	Value {
		CapturePriority 164
	}
	Macro.pcm_split.SplitPCMDevice {
		Name "motu828_mono_in"
		Direction Capture
		HWChannels 30
		Channels 1
		Channel0 4
		ChannelPos0 MONO
	}
}

SectionDevice."Line14" {
	Comment "[mono] Line In 4"
	Value {
		CapturePriority 174
	}
	Macro.pcm_split.SplitPCMDevice {
		Name "motu828_mono_in"
		Direction Capture
		HWChannels 30
		Channels 1
		Channel0 3
		ChannelPos0 MONO
	}
}

SectionDevice."Line13" {
	Comment "[mono] Line In 3"
	Value {
		CapturePriority 175
	}
	Macro.pcm_split.SplitPCMDevice {
		Name "motu828_mono_in"
		Direction Capture
		HWChannels 30
		Channels 1
		Channel0 2
		ChannelPos0 MONO
	}
}

# On the front of the MOTU 828, these are Combo (XLR + 1/4" TRS) connectors: "MIC / LINE / INSTRUMENT"
# and they are paired with the "MIC INSERT" balanced 1/4" TRS connectors on the back of the MOTU 828
# These are defined as a stereo pair here; but there is a separate section with alternate mono configuration

SectionDevice."Mic12" {
	Comment "[stereo] Mic / Line / Instrument In 1-2"
	
	ConflictingDevice [
		"Mic1"
		"Mic2"
	]

	Value {
		CapturePriority 195
	}
	Macro.pcm_split.SplitPCMDevice {
		Name "motu828_stereo_in"
		Direction Capture
		HWChannels 30
		Channels 2
		Channel0 0
		Channel1 1
		ChannelPos0 FL
		ChannelPos1 FR
	}
}

# On the back of the MOTU 828, these are 2 optical input connectors: "OPTICAL IN A" and "OPTICAL IN B"
# BANK A (only) can be configured as either:
#    2-channel TOSLINK, or
#    8-channel ADAT
# in the MOTU 828's menu
# Because these each use a single physical connection, there is no alternate mono definition for these
# Currently, only the 2-channel TOSLINK mode is supported

SectionDevice."SPDIF6" {
	Comment "[stereo] Optical A In (TOSLink)"

	Value {
		CapturePriority 120
	}
	Macro.pcm_split.SplitPCMDevice {
		Name "motu828_stereo_in"
		Direction Capture
		HWChannels 30
		Channels 2

		Channel0 14
		Channel1 15

		ChannelPos0 FL
		ChannelPos1 FR
	}
}

# On the back of the MOTU 828, this is a single RCA connector: "S/PDIF IN":
# Because these each use a single physical connection, there is no alternate mono definition for these

SectionDevice."SPDIF5" {
	Comment "[stereo] S/PDIF In (RCA)"

	Value {
		CapturePriority 140
	}
	Macro.pcm_split.SplitPCMDevice {
		Name "motu828_stereo_in"
		Direction Capture
		HWChannels 30
		Channels 2
		Channel0 12
		Channel1 13
		ChannelPos0 FL
		ChannelPos1 FR
	}
}

# This is an internal loopback device provided by the MOTU 828.  It does not have a physical external connection, other than the USB cable
# By default, it appears here, assigned to physical channels 11-12, after the physical Line Inputs #1-10.
# However, it can be reconfigured in the CueMix5 software (under "DEVICE" -> "Loopback Location") to appear as the first two channels (1-2), presumably shifting all other LINE channel assignments
# Make sure it is set to "USB in 11-12 (Default)"

SectionDevice."Line11011" {
	Comment "[stereo] Internal Loopback"

	Value {
		CapturePriority 199
	}
	Macro.pcm_split.SplitPCMDevice {
		Name "motu828_stereo_in"
		Direction Capture
		HWChannels 30
		Channels 2
		Channel0 10
		Channel1 11
		ChannelPos0 FL
		ChannelPos1 FR
	}
}

# On the back of the MOTU 828, these are balanced 1/4" TRS connectors: "LINE IN"
# These are stereo bridges; but there is a separate section with alternate mono configuration
# Conflict resolution due to duplication of connections is handled here in the stereo devices

SectionDevice."Line1910" {
	Comment "[stereo] Line In 9-10"
	
	ConflictingDevice [
		"Line19"
		"Line110"
	]

	Value {
		CapturePriority 150
	}
	Macro.pcm_split.SplitPCMDevice {
		Name "motu828_stereo_in"
		Direction Capture
		HWChannels 30
		Channels 2
		Channel0 8
		Channel1 9
		ChannelPos0 FL
		ChannelPos1 FR
	}
}

SectionDevice."Line178" {
	Comment "[stereo] Line In 7-8"
	
	ConflictingDevice [
		"Line17"
		"Line18"
	]

	Value {
		CapturePriority 160
	}
	Macro.pcm_split.SplitPCMDevice {
		Name "motu828_stereo_in"
		Direction Capture
		HWChannels 30
		Channels 2
		Channel0 6
		Channel1 7
		ChannelPos0 FL
		ChannelPos1 FR
	}
}

SectionDevice."Line156" {
	Comment "[stereo] Line In 5-6"
	
	ConflictingDevice [
		"Line15"
		"Line16"
	]

	Value {
		CapturePriority 170
	}
	Macro.pcm_split.SplitPCMDevice {
		Name "motu828_stereo_in"
		Direction Capture
		HWChannels 30
		Channels 2
		Channel0 4
		Channel1 5
		ChannelPos0 FL
		ChannelPos1 FR
	}
}

SectionDevice."Line134" {
	Comment "[stereo] Line In 3-4"
	
	ConflictingDevice [
		"Line13"
		"Line14"
	]
	Value {
		CapturePriority 180
	}
	Macro.pcm_split.SplitPCMDevice {
		Name "motu828_stereo_in"
		Direction Capture
		HWChannels 30
		Channels 2
		Channel0 2
		Channel1 3
		ChannelPos0 FL
		ChannelPos1 FR
	}
}

# On the front of the MOTU 828, these are Combo (XLR + 1/4" TRS) connectors: "MIC / LINE / INSTRUMENT"
# and they are paired with the "MIC INSERT" balanced 1/4" TRS connectors on the back of the MOTU 828:
# These are defined as mono here; but there is a separate section with alternate stereo configuration and conflict resolution

SectionDevice."Mic2" {
	Comment "[mono] Mic / Line / Instrument In 2"

	Value {
		CapturePriority 190
	}
	Macro.pcm_split.SplitPCMDevice {
		Name "motu828_mono_in"
		Direction Capture
		HWChannels 30
		Channels 1
		Channel0 1
		ChannelPos0 MONO
	}
}

SectionDevice."Mic1" {
	Comment "[mono] Mic / Line / Instrument In 1"

	Value {
		CapturePriority 200
	}
	Macro.pcm_split.SplitPCMDevice {
		Name "motu828_mono_in"
		Direction Capture
		HWChannels 30
		Channels 1
		Channel0 0
		ChannelPos0 MONO
	}
}
